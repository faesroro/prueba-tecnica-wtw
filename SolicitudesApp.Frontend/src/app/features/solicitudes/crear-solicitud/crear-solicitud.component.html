<div class="container mt-4">
  <div *ngIf="mensaje" class="alert alert-success py-1 px-2 mb-2">
    {{ mensaje }}
  </div>

  <div *ngIf="mensajeError" class="alert alert-danger py-1 px-2 mb-2">
    {{ mensajeError }}
  </div>

  <h4 class="mb-3">Crear Solicitud</h4>

  <div class="mb-2">
    <label class="form-label">Tipo:</label>
    <input type="text" class="form-control form-control-sm" [(ngModel)]="tipo" name="tipo" />
  </div>

  <div class="mb-2">
    <label class="form-label">Estado:</label>
    <select class="form-select form-select-sm" [(ngModel)]="estado">
      <option [ngValue]="null">-- Selecciona Estado --</option>
      <option [ngValue]="0">Pendiente</option>
      <option [ngValue]="1">Aprobado</option>
      <option [ngValue]="2">Rechazado</option>
    </select>
  </div>

  <hr class="my-3" />

  <h6 class="mb-2">Campos din√°micos</h6>

  <div *ngFor="let campo of campos; let i = index" class="row g-2 align-items-center mb-2">
    <div class="col">
      <input
        type="text"
        class="form-control form-control-sm"
        placeholder="Nombre del campo"
        [(ngModel)]="campo.nombre"
        name="nombre{{i}}"
      />
    </div>
    <div class="col">
      <input
        type="text"
        class="form-control form-control-sm"
        placeholder="Valor"
        [(ngModel)]="campo.valor"
        name="valor{{i}}"
      />
    </div>
    <div class="col-auto">
      <button type="button" class="btn btn-danger btn-sm" (click)="eliminarCampo(i)" title="Eliminar solicitud">
        
        <i class="bi bi-x-circle"></i>      
      </button>
    </div>
  </div>

  <div class="mb-3">
    <button type="button" class="btn btn-outline-primary btn-sm" (click)="agregarCampo()">
      <i class="bi bi-plus me-1"></i>Agregar campo
    </button>
  </div>

  <div class="mt-2">
    <button type="button" class="btn btn-success btn-sm" (click)="enviarSolicitud()">
      <i class="bi bi-plus-circle me-1"></i> Crear Solicitud
    </button>
    <a class="btn btn-secondary btn-sm ms-2" [routerLink]="'/solicitudes'">
      <i class="bi bi-arrow-left me-1"></i> Volver
    </a>
  </div>
</div>
